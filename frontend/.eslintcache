[{"/home/manuel/Projects/login-form/frontend/src/index.js":"1","/home/manuel/Projects/login-form/frontend/src/App.js":"2","/home/manuel/Projects/login-form/frontend/src/components/LoginForm.js":"3","/home/manuel/Projects/login-form/frontend/src/components/LoginButton.js":"4","/home/manuel/Projects/login-form/frontend/src/components/SignupForm.js":"5","/home/manuel/Projects/login-form/frontend/src/components/SignupButton.js":"6","/home/manuel/Projects/login-form/frontend/src/components/LoginHere.js":"7","/home/manuel/Projects/login-form/frontend/src/reducers/user.js":"8","/home/manuel/Projects/login-form/frontend/src/components/UserMessage.js":"9","/home/manuel/Projects/login-form/frontend/src/components/LogoutButton.js":"10","/home/manuel/Projects/login-form/frontend/src/components/GoBack.js":"11"},{"size":171,"mtime":1623248726881,"results":"12","hashOfConfig":"13"},{"size":1250,"mtime":1623258605366,"results":"14","hashOfConfig":"13"},{"size":3768,"mtime":1623263117372,"results":"15","hashOfConfig":"13"},{"size":484,"mtime":1623248855088,"results":"16","hashOfConfig":"13"},{"size":4000,"mtime":1623261200303,"results":"17","hashOfConfig":"13"},{"size":474,"mtime":1623259727633,"results":"18","hashOfConfig":"13"},{"size":192,"mtime":1623258397773,"results":"19","hashOfConfig":"13"},{"size":1044,"mtime":1623258361600,"results":"20","hashOfConfig":"13"},{"size":929,"mtime":1623262740745,"results":"21","hashOfConfig":"13"},{"size":752,"mtime":1623258999541,"results":"22","hashOfConfig":"13"},{"size":191,"mtime":1623262061797,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"ebpats",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"/home/manuel/Projects/login-form/frontend/src/index.js",[],["48","49"],"/home/manuel/Projects/login-form/frontend/src/App.js",[],"/home/manuel/Projects/login-form/frontend/src/components/LoginForm.js",["50"],"import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport TextField from '@material-ui/core/TextField'\nimport styled from 'styled-components'\n\n\n\nimport { user } from '../reducers/user'\nimport { LoginButton } from './LoginButton'\nimport { UserMessage } from './UserMessage'\nimport { GoBack } from './GoBack'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        },\n    },\n}));\n\nexport const LoginForm = () => {\n\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const LOGIN_URL = 'https://manuel-orozco-login-form.herokuapp.com/sessions'\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const accessToken = useSelector((store) => store.user.login.accessToken);   \n    const loginError = useSelector((store) => store.user.login.statusMessage);\n\n    const handleLoginSuccess = (loginResponse) => {\n        dispatch(\n            user.actions.setAccessToken({ accessToken: loginResponse.accessToken })\n        );\n        dispatch(user.actions.setUserId({ userId: loginResponse.userId }));\n        dispatch(user.actions.setStatusMessage({ statusMessage: 'Login success' }));\n    };\n\n    const handleLoginFailed = (loginFailed) => {\n        dispatch(user.actions.setAccessToken({ accessToken: null }));\n        dispatch(user.actions.setStatusMessage({ statusMessage: loginFailed }));\n    };\n\n\n    const onUsernameLoginChange = (event) => {\n        setUsername(event.target.value);\n    };\n\n    const onPasswordLoginChange = (event) => {\n        setPassword(event.target.value);\n    };\n\n    const onLogin = (event) => {\n        event.preventDefault();\n\n        fetch(LOGIN_URL, {\n            method: 'POST',\n            body: JSON.stringify({ username, password }),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then((response) => {\n                if (!response.ok) {\n                    throw \"Sorry, could not login user\";\n                }\n                return response.json();\n            })\n            .then((json) => handleLoginSuccess(json))\n            .catch((err) => handleLoginFailed(err));\n        \n        setUsername(\"\")\n        setPassword(\"\")\n    }\n\n    if (!accessToken) {\n\n        return (\n            <form className={classes.root} onSubmit={onLogin} noValidate autoComplete=\"off\">\n                <LoginContainer>\n                    <WelcomeContainer>\n                        Please login\n                    </WelcomeContainer>\n\n                    <TextField\n                        id=\"UsernameLogin\"\n                        label=\"Username\"\n                        value={username}\n                        onChange={onUsernameLoginChange}\n                        variant=\"outlined\"\n                    />\n\n                    <TextField\n                        id=\"PasswordLogin\"\n                        label=\"Password\"\n                        value={password}\n                        onChange={onPasswordLoginChange}\n                        variant=\"outlined\"\n                        type=\"password\" \n                    />\n                    <LoginButton />\n                    {loginError && <p>{loginError}</p>}\n                    <GoBack />\n                </LoginContainer>\n            </form>           \n        );\n    } \n    else {\n        return <UserMessage /> \n    }\n};\n\nconst LoginContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 280px;\n`\n\nconst WelcomeContainer = styled.span`\n    color: darkblue;\n    margin-top: -10x;\n    padding-bottom: 15px;\n`","/home/manuel/Projects/login-form/frontend/src/components/LoginButton.js",[],"/home/manuel/Projects/login-form/frontend/src/components/SignupForm.js",[],"/home/manuel/Projects/login-form/frontend/src/components/SignupButton.js",[],"/home/manuel/Projects/login-form/frontend/src/components/LoginHere.js",[],"/home/manuel/Projects/login-form/frontend/src/reducers/user.js",[],"/home/manuel/Projects/login-form/frontend/src/components/UserMessage.js",[],"/home/manuel/Projects/login-form/frontend/src/components/LogoutButton.js",[],"/home/manuel/Projects/login-form/frontend/src/components/GoBack.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":68,"column":21,"nodeType":"57","messageId":"58","endLine":68,"endColumn":57},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","no-global-assign","no-unsafe-negation"]